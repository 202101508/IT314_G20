<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Reset Password</title>
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
		<link
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
			rel="stylesheet" />

		<style>
			.form-gap {
				padding-top: 10%;
			}
			.form-control {
				height: 50px;
			}
			.btn-block {
				height: 50px;
				font-size: large;
			}
			.err {
				color: red;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div class="form-gap"></div>
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-md-offset-3">
					<div class="panel panel-default">
						<div class="panel-body">
							<div class="text-center">
								<h3><i class="fa fa-lock fa-5x"></i></h3>
								<h2 class="text-center">Change Password</h2>
								<p>You can reset your password here.</p>
								<div class="panel-body">
									<form
										id="register-form"
										role="form"
										autocomplete="off"
										class="form"
										method="post">
										<div class="form-group">
											<div class="input-group">
												<span class="input-group-addon"
													><i class="glyphicon glyphicon-refresh color-blue"></i
												></span>
												<input
													id="password"
													name="password"
													placeholder="New Password"
													class="form-control"
													type="password" />
												<input
													id="confPassword"
													name="confPassword"
													placeholder="Confirm Password"
													class="form-control"
													type="password" />
											</div>
										</div>
										<p class="err"><% if(locals.msg){ %> <%= msg %> <% } %></p>

										<div class="form-group">
											<input
												name="recover-submit"
												class="btn btn-lg btn-primary btn-block"
												value="Reset Password"
												type="submit" />
										</div>

										<input
											type="hidden"
											class="hide"
											name="token"
											id="token"
											value="" />
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<script>
			//Confirm password validation
			$("#confPassword").click((event) => {
				console.log("clicked");
			});

			var password = $("#password"),
				confirm_password = $("#confPassword");

			function validatePassword() {
				if (password.val() != confirm_password.val()) {
					console.log(password.val());
					console.log(confirm_password.val());

					confirm_password[0].setCustomValidity("Passwords Don't Match");
				} else {
					confirm_password[0].setCustomValidity("");
				}
			}

			password.change(validatePassword);
			confirm_password.keyup(validatePassword);
		</script>
	</body>
</html>
