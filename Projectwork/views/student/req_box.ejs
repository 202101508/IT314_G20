<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Request Box</title>

    <link rel="stylesheet" href="../../styles/student/req_box.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Yatra+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    
</head>
<body>
    <%- include("../partials/side_navbar_student") %>

    <section class="all_section"></section>

        <div class="qwerty">
            Request Box
        </div>

        <div class="container">
            <div class="text">
            <h2>Previous Requests</h2>
        </div>
            <div class="previous-requests">
                
                <table>
                    <thead>
                        <tr>
                            <th class="th_0">No.</th>
                            <th class="th_1">Subject</th>
                            <th class="th_2">request Date</th>
                            <th class="t_3">Confirmation</th>
                            <th class="t_3">Confirmation Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if(locals.data){ %>
                        <% let counter = 1; %>
                        <% data.forEach(req => { %>
                            <% if(req.User._id.equals(id)){ %>
                                <tr>
                                    <td><%= counter %></td>
                                    <td><%= req.subject %></td>
                                    <td><%= req.reqDate %> </td>
                                    <td><%= req.confirmation %></td>
                                    <td><%= req.confDate %></td>
                                </tr>
                                <% counter++; %>
                                <% } %>
                                <% }); %>
                       <% } %>
                        
                        
                    </tbody>
                </table>
                
                
            </div>
        </div>

        <div class="container2">
            <div class="new-request">
                <h2>New Request</h2>
                <form action="/student/<%= username %>/req_box/req_box_button">
                    <button type="submit">Create Request</button>
                </form>
            </div>
        </div>

</body>
</html> 

